```python
# main.py

from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import List

app = FastAPI()

class Course(BaseModel):
    name: str
    level: str

# In-memory database for demonstration, replace with actual database logic later
courses_db = []

@app.post("/courses")
def create_course(course: Course):
    # Validate that 'name' and 'level' are not empty
    if not course.name or not course.level:
        raise HTTPException(
            status_code=400,
            detail={"code": "E001", "message": "Both name and level are required"}
        )
    
    # Add course to in-memory database
    courses_db.append(course)
    
    return {
        "message": "Course created successfully",
        "course": course
    }

@app.get("/courses", response_model=List[Course])
def get_courses():
    return courses_db
```